local Players = game:GetService("Players")
local player = Players.LocalPlayer
local gui = player.PlayerGui.GameGui.Screen.Middle.Trade

-- Slider และ Add Button
local slider = gui.AmountAdd.Frame.Frame.Items.Items.Picker.SliderContainer.DragCircle
local addButton = gui.AmountAdd.Frame.Frame.Actions.Items.Add

-- ฟังก์ชัน Fire Event ของปุ่ม
local function fireButton(button)
    local connections = getconnections(button.MouseButton1Click)
    if connections[1] then
        connections[1]:Fire()
        print("Add Button fired!")
    else
        warn("No connections found on Add Button")
    end
end

-- ฟังก์ชัน Fire Slider Value update
local function fireSlider(slider)
    -- ตรวจสอบ Slider.Changed
    local cons = getconnections(slider.Changed)
    if #cons > 0 then
        for i, con in ipairs(cons) do
            con:Fire() -- Fire ทุกฟังก์ชันที่เชื่อมกับ Slider
        end
        print("Slider fired!")
    else
        warn("No connections found on Slider.Changed")
    end

    -- บางเกมอาจเชื่อมกับ InputBegan / MouseButton1Down
    local inputCons = getconnections(slider.MouseButton1Down)
    if #inputCons > 0 then
        for i, con in ipairs(inputCons) do
            con:Fire()
        end
        print("Slider MouseButton1Down fired!")
    end
end

-- === ทำงาน ===
-- 1) Fire Slider ก่อนให้ Value update
fireSlider(slider)

-- 2) Fire Add Button
fireButton(addButton)
